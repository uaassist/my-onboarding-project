<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concierge Onboarding</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="onboarding-container">
        <!-- Step 1: Welcome -->
        <div id="step1Box" class="step-box active">
            <div class="persona-header">
                <img id="avatarImage" src="https://ucarecdn.com/2008f119-a819-4d18-8fb4-1236ca14b8b8/ChatGPTImageMay22202502_03_10PMezgifcomresize.png" alt="Alex the Concierge" class="avatar">
                <h2>Your Concierge Onboarding!</h2>
            </div>
            <p id="welcomeText" class="prompt-text"></p>
            <button id="nextStep1" class="button primary" disabled>Let's Get Started</button>
        </div>

        <!-- Step 2: Name -->
        <div id="nameBox" class="step-box">
            <p class="progress-indicator">Step 1 of 4</p>
            <p id="namePrompt" class="prompt-text"></p>
            <input type="text" id="nameInput" placeholder="e.g., Jane Doe" class="input-field">
            <p id="nameError" class="error-message"></p>
            <div class="nav-buttons">
                <button id="backToStep1" class="button secondary">Back</button>
                <button id="nextStep2" class="button primary" disabled>Next</button>
            </div>
        </div>

        <!-- Step 3: Email -->
        <div id="emailBox" class="step-box">
            <p class="progress-indicator">Step 2 of 4</p>
            <p id="emailPrompt" class="prompt-text"></p>
            <input type="email" id="emailInput" placeholder="e.g., jane.doe@example.com" class="input-field">
            <p id="emailError" class="error-message"></p>
            <div class="nav-buttons">
                <button id="backToStep2" class="button secondary">Back</button>
                <button id="nextStep3" class="button primary" disabled>Next</button>
            </div>
        </div>

        <!-- Step 4: Business Search -->
        <div id="businessSearchBox" class="step-box">
            <p class="progress-indicator">Step 3 of 4</p>
            <p id="businessPrompt" class="prompt-text"></p>
            <input type="text" id="businessSearchInput" placeholder="Your business name & city" class="input-field">
            <p id="businessError" class="error-message"></p>
            <div class="nav-buttons">
                <button id="backToStep3" class="button secondary">Back</button>
                <button id="findBusinessBtn" class="button primary" disabled>Find Business</button>
            </div>
            <div id="loadingState" class="loading-state hidden">
                <div class="spinner"></div>
                <p>Alex is searching for your business...</p>
            </div>
        </div>

        <!-- Step 5: Business Results -->
        <div id="resultsBox" class="step-box">
            <p class="progress-indicator">Step 3 of 4</p>
            <p class="prompt-text">Is this your business? Select one or enter manually.</p>
            <div id="resultsRepeater" class="results-list">
                <!-- Results will be injected here by JavaScript -->
            </div>
            <button id="manualEntryBtn" class="button secondary full-width">I can't find it, I'll enter it manually</button>
            <div class="nav-buttons">
                <button id="backToSearch" class="button secondary">Back</button>
            </div>
        </div>

        <!-- Step 6: Manual Entry -->
        <div id="manualEntryBox" class="step-box">
            <p class="progress-indicator">Step 3 of 4</p>
            <p class="prompt-text">No problem! Please paste the Google Maps URL for your business below.</p>
            <input type="url" id="mapsUrlInput" placeholder="https://www.google.com/maps/..." class="input-field">
            <p id="manualEntryError" class="error-message"></p>
            <div class="nav-buttons">
                <button id="backToResults" class="button secondary">Back</button>
                <button id="nextStepManual" class="button primary" disabled>Next</button>
            </div>
        </div>

        <!-- Step 7: Confirmation -->
        <div id="confirmationBox" class="step-box">
            <p class="progress-indicator">Step 4 of 4</p>
            <p class="prompt-text">Great! Does everything look correct?</p>
            <div class="summary-card">
                <p><strong>Name:</strong> <span id="confirmName"></span></p>
                <p><strong>Email:</strong> <span id="confirmEmail"></span></p>
                <p><strong>Business:</strong> <span id="confirmBusiness"></span></p>
            </div>
            
            <!-- Netlify Form Integration -->
            <form name="onboarding" method="POST" action="/index.html?submitted=true" data-netlify="true" netlify-honeypot="bot-field">
                <input type="hidden" name="form-name" value="onboarding">
                <p class="hidden"><label>Don’t fill this out if you’re human: <input name="bot-field" /></label></p>
                <input type="hidden" id="formName" name="name" />
                <input type="hidden" id="formEmail" name="email" />
                <input type="hidden" id="formBusinessName" name="businessName" />
                <input type="hidden" id="formGooglePlaceId" name="googlePlaceId" />
                <input type="hidden" id="formMapsUrl" name="mapsUrl" />
                
                <!-- GDPR/PIPEDA/CCPA Consent Checkbox -->
                <div class="consent-box">
                    <input type="checkbox" id="consentCheckbox" name="consent" required>
                    <label for="consentCheckbox">
                        I agree to the <a href="https://www.liketome.com/privacy-policy" target="_blank">Privacy Policy</a> and consent to having my data processed to create my free trial account.
                    </label>
                </div>

                <div class="nav-buttons">
                    <button type="button" id="backToPrevious" class="button secondary">Back</button>
                    <button type="submit" class="button primary">Submit & Start Trial</button>
                </div>
            </form>
        </div>

        <!-- Step 8: Thank You -->
        <div id="thankYouBox" class="step-box">
            <div class="persona-header">
                <img id="avatarImage" src="https://ucarecdn.com/2008f119-a819-4d18-8fb4-1236ca14b8b8/ChatGPTImageMay22202502_03_10PMezgifcomresize.png" alt="Alex the Concierge" class="avatar">
                <h2>Thank You!</h2>
            </div>
            <p class="prompt-text">Your request has been received. I'm getting started on your personalized account setup now. You'll receive an email from me within 24 hours with your login details.</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
